import lit.formats
import lit.util
import os

config.name = 'course2'
config.suffixes = ['.c', '.cpp', '.ll', '.test']

config.test_format = lit.formats.ShTest(True)

config.test_source_root = "/home/nacho/Documentos/LLVM/course2/ex/test"
config.test_exec_root = "/home/nacho/Documentos/LLVM/_build/course2/ex/test"

config.environment['PATH'] = os.pathsep.join(["/home/nacho/Documentos/LLVM/_deps/llvm/bin"] + [ config.environment['PATH'] ])

# substitutions
config.substitutions.append(('%lib_instrument_runtime', "/home/nacho/Documentos/LLVM/_build/course2/ex/test/../libInstrumentValuesRuntime.so"))
config.substitutions.append(('%lib_basic', "/home/nacho/Documentos/LLVM/_build/course2/ex/test/../../../course0/ex/libBasic.so"))
config.substitutions.append(('%lib_instrument', "/home/nacho/Documentos/LLVM/_build/course2/ex/test/../libInstrument.so"))
config.substitutions.append(('%llvm_tools_dir', "/home/nacho/Documentos/LLVM/_deps/llvm/bin"))

common_flags =  "-g -Xclang -disable-O0-optnone "

config.substitutions.append(('%clangxx', os.path.join("/home/nacho/Documentos/LLVM/_deps/llvm/bin", "clang++")))
config.substitutions.append(('%clang', os.path.join("/home/nacho/Documentos/LLVM/_deps/llvm/bin", "clang")))
config.substitutions.append(('%opt', os.path.join("/home/nacho/Documentos/LLVM/_deps/llvm/bin", "opt")))
config.substitutions.append(('%cxxflags', common_flags + "--std=c++17"))
config.substitutions.append(('%cflags', common_flags))

config.substitutions.append(('%not', "!"))

config.substitutions.append(('%FileCheck', os.path.join("/home/nacho/Documentos/LLVM/_deps/llvm/bin", "FileCheck")))
